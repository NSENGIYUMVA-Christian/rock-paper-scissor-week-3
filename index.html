<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>rock paper scissor</title>
  </head>
  <body>
    <header>
      <h1>ROCK PAPER SCISSOR GAME</h1>
    </header>
    <body>
      <button class="choice rock">Rock</button>
      <button class="choice paper">Paper</button>
      <button class="choice scissor">Scissor</button>
      <div class="result">Result:</div>
    </body>

    <script>
      var randomChoice = "";

      // generate either rock, paper and scissor randomly
      function getComputerChoice() {
        randomChoice = Math.floor(Math.random() * 3);
        if (randomChoice === 0) {
          randomChoice = "rock";
        } else if (randomChoice === 1) {
          randomChoice = "paper";
        } else {
          randomChoice = "scissor";
        }
        return randomChoice;
      }

      //round
      function singleRound(playerSelection, computerSelection) {
        var result = "";
        if (
          playerSelection === "rock".toLowerCase() &&
          computerSelection === "scissor".toLowerCase()
        ) {
          result = "You win! Rock beats scissor";
        } else if (
          playerSelection === "rock".toLowerCase() &&
          computerSelection === "paper".toLowerCase()
        ) {
          result = "You lose! paper beats rock";
        } else if (
          playerSelection === "rock".toLowerCase() &&
          computerSelection === "rock".toLowerCase()
        ) {
          result = "You tied! rock ties with rock";
        } else if (
          playerSelection === "paper".toLowerCase() &&
          computerSelection === "rock".toLowerCase()
        ) {
          result = "You win! paper beats rock";
        } else if (
          playerSelection === "paper".toLowerCase() &&
          computerSelection === "paper".toLowerCase()
        ) {
          result = "You tied! paper ties with paper";
        } else if (
          playerSelection === "paper".toLowerCase() &&
          computerSelection === "scissor".toLowerCase()
        ) {
          result = "You lose! scissor beats paper";
        } else if (
          playerSelection === "scissor".toLowerCase() &&
          computerSelection === "rock".toLowerCase()
        ) {
          result = "You lose! rock beats scissor";
        } else if (
          playerSelection === "scissor".toLowerCase() &&
          computerSelection === "paper".toLowerCase()
        ) {
          result = "You win! scissor beats paper";
        } else if (
          playerSelection === "scissor".toLowerCase() &&
          computerSelection === "scissor".toLowerCase()
        ) {
          result = "You tied! scissor ties with scissor";
        }

        return result;
      }

      /////// getting both comp and player selection

      const choices = document.querySelectorAll(".choice");
      const resultElement = document.querySelector(".result");

      let p = "rock";
      let c = getComputerChoice();

      let ArrOfChoices = Array.from(choices);
      ArrOfChoices.map((choice) =>
        choice.addEventListener("click", function () {
          let playerChoice = this.textContent;
          let comp = getComputerChoice();
          resultElement.innerHTML = `<p>Your choice was ${playerChoice} and computer's choice was ${comp}</p>`;
        })
      );
    </script>
  </body>
</html>
